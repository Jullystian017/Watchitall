<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Membership</title>
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script type="module" src="../js/firebase-init.js"></script>
  <script type="module">
    import { db } from '../js/firebase-init.js';
    import { doc, updateDoc } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";

    class Plan {
      constructor(email) {
        this.email = email;
      }

      async select(plan, price) {
        await updateDoc(doc(db, "users", this.email), {
          plan: plan,
          price: price
        });
        window.location.href = `payment.html?plan=${plan}&price=${price}`;
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      let selectedPlan = null;
      let selectedPrice = null;
      const email = localStorage.getItem("email");

      const selectPlan = (plan, price) => {
        selectedPlan = plan;
        selectedPrice = price;
        document.getElementById("selected").innerText = `Selected: ${plan} - Rp ${price}`;

        document.querySelectorAll('.plan-card').forEach(el => el.classList.remove('selected'));
        document.getElementById(plan.toLowerCase()).classList.add('selected');
      };

      document.getElementById("basic").onclick = () => selectPlan("Basic", 15000);
      document.getElementById("standard").onclick = () => selectPlan("Standard", 25000);
      document.getElementById("premium").onclick = () => selectPlan("Premium", 35000);

      document.getElementById("next-btn").addEventListener("click", async () => {
        if (!selectedPlan || !email) {
          alert("Pilih plan terlebih dahulu dan pastikan sudah register.");
          return;
        }
        const plan = new Plan(email);
        await plan.select(selectedPlan, selectedPrice);
      });

      document.getElementById("login-btn").addEventListener("click", () => {
        window.location.href = "login.html";
      });
    });
  </script>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      background-color: #141414;
      color: #fff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
    }
    
    /* Custom logo header */
    .header {
      padding: 20px 4%;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 10;
      background: linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo-container {
      display: flex;
      align-items: center;
    }
    
    .custom-logo {
      height: 45px;
      width: auto;
    }
    
    #login-btn {
      background-color: #EFB036;
      color: white;
      border: none;
      padding: 8px 16px;
      font-size: 1rem;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s;
      font-weight: bold;
      margin-bottom: 1px;
    }
    
    #login-btn:hover {
      background-color: #ffc859;
    }
    
    /* Main content */
    .main-content {
      margin-top: 80px;
      padding: 40px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
    }
    
    .page-title {
      font-size: 2.5rem;
      margin-bottom: 30px;
      font-weight: 500;
      text-align: center;
    }
    
    .plan-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      width: 100%;
      max-width: 1200px;
      margin-bottom: 40px;
    }
    
    .plan-card {
      background-color: #181818;
      border-radius: 4px;
      padding: 30px;
      width: 100%;
      max-width: 300px;
      transition: all 0.3s ease;
      cursor: pointer;
      border: 1px solid #333;
      text-align: center;
    }
    
    .plan-card:hover {
      transform: scale(1.05);
      border-color: #f9be47;
    }
    
    .plan-card.selected {
      border: 2px solid #ffc550;
      background-color: #1f1f1f;
      position: relative;
    }
    
    .plan-card.selected::after {
      content: "✓";
      position: absolute;
      top: -10px;
      right: -10px;
      background: #EFB036;
      color: white;
      width: 25px;
      height: 25px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    
    .plan-name {
      font-size: 1.5rem;
      margin-bottom: 10px;
      color: #fff;
    }
    
    .plan-price {
      font-size: 2rem;
      font-weight: bold;
      margin: 20px 0;
      color: #fff;
    }
    
    .plan-features {
      list-style-type: none;
      margin-bottom: 20px;
      text-align: left;
    }
    
    .plan-features li {
      padding: 8px 0;
      position: relative;
      padding-left: 25px;
    }
    
    .plan-features li::before {
      content: "✓";
      position: absolute;
      left: 0;
      color: #EFB036;
    }
    
    #selected {
      margin: 20px 0;
      font-size: 1.2rem;
      color: #EFB036;
      font-weight: bold;
      min-height: 30px;
    }
    
    #next-btn {
      background-color: #EFB036;
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 1.2rem;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s;
      font-weight: bold;
      margin-top: 20px;
      width: 100%;
      max-width: 300px;
    }
    
    #next-btn:hover {
      background-color: #ffc249;
    }
    
    /* Footer */
    .bottom-line {
  height: 2px;
  width: 100%;
  background: linear-gradient(90deg, 
              rgba(239,176,54,0) 0%, 
              rgba(239,176,54,0.6) 50%, 
              rgba(239,176,54,0) 100%);
  margin: 40px 0 0;
}

.main-footer {
 background-color: #141414;
  color: white;
  padding: 40px 60px;
  font-family: sans-serif;
}

.footer-right a:hover {
  text-decoration: underline;
  color: #EFB036;
}

.footer-top {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 30px;
  padding-bottom: 20px;
}

.footer-left {
  flex: 1;
  min-width: 250px;
}

.footer-desc {
  font-size: 25px;
  font-weight: 700;
  line-height: 1.1;
  color: white;
  max-width: 340px; /* batasi lebar supaya teks turun ke baris berikutnya */
  word-break: break-word;
}


.footer-right {
  flex: 1;
  min-width: 250px;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 15px;
}

.footer-nav a {
  color: white;
  margin: 0 5px;
  text-decoration: none;
  font-weight: 500;
  font-size: 14px;
}

.footer-socials {
  display: flex;
  flex-direction: row;
  gap: 10px; /* jarak antar icon */
}


.footer-socials a {
  color: #ffffff;
  font-size: 20px;
  transition: all 0.3s ease;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
}

.footer-socials a:hover {
  background-color: #EFB036;
  transform: translateY(-3px);
  color: #ffffff;
}

.footer-bottom {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  font-size: 12px;
  margin-top: 20px;
  color: white;
}

.footer-links a {
  margin-right: 20px;
  text-decoration: none;
  color: white;
}

.footer-links a:hover {
  text-decoration: underline;
  color: #EFB036;
}

/* Responsive Breakpoints */
@media (max-width: 768px) {
  .footer-top {
    flex-direction: column;
    align-items: flex-start;
  }

  .footer-right {
    align-items: flex-start;
  }

  .footer-nav {
    margin-top: 10px;
  }

  .footer-bottom {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }
}

@media (max-width: 480px) {
  .footer-desc {
    font-size: 16px;
  }

  .footer-nav a {
    font-size: 13px;
  }

  .footer-socials a {
    font-size: 18px;
  }
}

  </style>
</head>
<body>
  <header class="header">
    <a href="unpaid.html" class="logo-link">
  <div class="logo-container">
    <img src="../assets/image/logo.png" alt="Your Logo" class="custom-logo">
  </div>
</a>
    <button id="login-btn">Login</button>
  </header>
  
  <div class="main-content">
    <h1 class="page-title">Choose the plan that's right for you</h1>
    
    <div class="plan-list">
      <div id="basic" class="plan-card">
        <h2 class="plan-name">Basic</h2>
        <div class="plan-price">Rp 15,000</div>
        <ul class="plan-features">
          <li>Watch on 1 device at a time</li>
          <li>Limited content library</li>
        </ul>
      </div>
      
      <div id="standard" class="plan-card">
        <h2 class="plan-name">Standard</h2>
        <div class="plan-price">Rp 25,000</div>
        <ul class="plan-features">
          <li>Watch on 2 device at a time</li>
          <li>Unlimited movies and TV shows</li>
          <li>Private Watclist</li>
           <li>History</li>
        </ul>
      </div>
      
      <div id="premium" class="plan-card">
        <h2 class="plan-name">Premium</h2>
        <div class="plan-price">Rp 35,000</div>
        <ul class="plan-features">
          <li>Watch on 3 device at a time</li>
          <li>All movies and TV shows</li>
          <li>Exclusive content</li>
          <li>Resolution full hd</li>
          <li>Private Watclist</li>
          <li>History</li>
          
        </ul>
      </div>
    </div>
    
    <p id="selected"></p>
    <button id="next-btn">Next</button>
  </div>
  
  <div class="bottom-line"></div>
   <footer class="main-footer">
  <div class="footer-top">
    <div class="footer-left">
      <p class="footer-desc">
        Our platform is very affordable & features<br>
        best updated movies all around the world.
      </p>
    </div>
    <div class="footer-right">
      <nav class="footer-nav">
        
      </nav>
      <div class="footer-socials">
        <a href="#"><i class="fab fa-instagram"></i></a>
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <div class="footer-links">
      <a href="#">Privacy policy</a>
      <a href="#">Term of service</a>
      <a href="#">FAQ</a>
      <a href="#">Help Center</a>

    </div>
    
    <span class="footer-copy">© 2025</span>
  </div>
</footer>
</body>
</html>
